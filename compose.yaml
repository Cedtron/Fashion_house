services:
  ts-back-end:
    build:
      context: ./back-end
    container_name: ts-back-end
    restart: unless-stopped
    init: true
    # If your back-end requires environment variables, add them here or via env_file
    # env_file: ./back-end/.env  # Uncomment if .env file exists
    ports:
      - "3000:3000"  # Exposed by Dockerfile
    networks:
      - app-network
    depends_on:
      - py-image-service

  ts-front-end:
    build:
      context: ./front-end
    container_name: ts-front-end
    restart: unless-stopped
    init: true
    # env_file: ./front-end/.env  # Uncomment if .env file exists
    ports:
      - "5173:5173"  # Exposed by Dockerfile
    networks:
      - app-network
    depends_on:
      - ts-back-end

  py-image-service:
    build:
      context: ./image-service
    container_name: py-image-service
    restart: unless-stopped
    # If your image service requires environment variables, add them here or via env_file
    # env_file: ./image-service/.env  # Uncomment if .env file exists
    ports:
      - "8000:8000"  # Exposed by Dockerfile
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
